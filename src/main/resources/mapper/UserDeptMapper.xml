<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.xingling.mapper.UserDeptMapper" >
  <resultMap id="BaseResultMap" type="com.xingling.model.domain.UserDept" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="user_id" property="userId" jdbcType="VARCHAR" />
    <id column="dept_id" property="deptId" jdbcType="VARCHAR" />
  </resultMap>

  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    user_id, dept_id
  </sql>
    <select id="queryDeptByUserIds" resultType="com.xingling.model.domain.UserDept">
      SELECT aa.dept_id as deptId,aa.user_id as userId,bb.dept_name as deptName from xl_user_dept aa JOIN xl_dept bb on aa.dept_id = bb.id
      where 1=1
      <if test="userIds != null and userIds.size() > 0 ">
        AND aa.user_id IN
        <foreach collection="userIds" item="item" index="index" open="(" separator="," close=")">
          #{item}
        </foreach>
      </if>
    </select>
</mapper>